(function(t){function e(e){for(var n,r,a=e[0],c=e[1],l=e[2],d=0,p=[];d<a.length;d++)r=a[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&p.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],n=!0,a=1;a<i.length;a++){var c=i[a];0!==s[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=i[0]))}return t}var n={},s={app:0},o=[];function r(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/priorities/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;o.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"03ae":function(t,e,i){},"0689":function(t,e,i){},"0a92":function(t,e,i){"use strict";i("bdb9")},1276:function(t,e,i){"use strict";i("cf3a")},"18e4":function(t,e,i){},"1cbc":function(t,e,i){},"26d8":function(t,e,i){"use strict";i("d18e")},3249:function(t,e,i){"use strict";i("0689")},"3b32":function(t,e,i){},4008:function(t,e,i){},4894:function(t,e,i){},"4ca3":function(t,e,i){"use strict";i("4008")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container",style:{height:t.innerHeight+"px",maxWidth:t.innerWidth<768?"100vw":t.containerWidth+"px"}},[t.isPageLoad?i("div",{staticClass:"minis__wrapper"},[t.isDesktop?i("SettingsDesktop",{attrs:{themeIcon:t.themeMain.icon},on:{switchTheme:t.switchTheme,switchLang:t.switchLang},model:{value:t.isClosedSettings,callback:function(e){t.isClosedSettings=e},expression:"isClosedSettings"}}):t._e(),i("LayoutContent",{style:{filter:t.openedModalName?"blur(2px)":"none"},attrs:{appWidth:t.appWidth,appHeight:t.appHeight,bodyHeight:t.innerHeight,isDesktop:t.isDesktop},on:{switchSettings:function(e){t.isClosedSettings=!t.isClosedSettings},updateInputFocus:function(e){t.onInputFocus=e},openModal:function(e){t.openedModalName=e}}}),i("AppModal",{model:{value:t.openedModalName,callback:function(e){t.openedModalName=e},expression:"openedModalName"}},["settings"==t.openedModalName?i("SettingsMobile",{attrs:{themeIcon:t.themeMain.icon},on:{switchTheme:t.switchTheme,switchLang:t.switchLang}}):t._e()],1),i("div",{staticClass:"resize_button",on:{mousedown:function(e){return e.preventDefault(),t.startResize.apply(null,arguments)}}}),i("a",{staticClass:"minis",attrs:{href:"https://adequm.github.io/minis",target:"_blank"}},[t._v("Minis")])],1):i("Icon",{staticClass:"loader",attrs:{type:"loader",rotate:""}})],1)},o=[],r=i("2ef0"),a=i.n(r),c=i("1da1"),l=i("5530"),u=i("3835"),d=(i("96cf"),i("07ac"),i("d3b7"),i("159b"),i("4fad"),i("2f62")),p={name:"App",data:function(){return{isPageLoad:!1}},watch:{translateList:{deep:!0,immediate:!0,handler:function(t){Object.values(t).length&&(document.title=this.translate("title"))}},themeMain:{deep:!0,handler:function(t){if(!t)return this.switchTheme("main");Object.entries(t.colors).forEach((function(t){var e=Object(u["a"])(t,2),i=e[0],n=e[1];document.body.style.setProperty("--".concat(i),n)}))}},themeSpecial:{deep:!0,handler:function(t){if(!t)return this.switchTheme("special");document.body.style.setProperty("--special-color",t.normal)}}},computed:Object(l["a"])(Object(l["a"])({},Object(d["b"])(["translate","translateList","themeMain","themeSpecialName","themeSpecial"])),Object(d["d"])({minisTheme:function(t){return t.minis.minisTheme},minisLang:function(t){return t.minis.minisLang},themesList:function(t){return t.minis.themesList},minisList:function(t){return t.minis.minisList},translateList:function(t){return t.minis.translateList}})),methods:Object(l["a"])(Object(l["a"])({},Object(d["c"])({switchTheme:function(t,e){return t("switchTheme",e)},switchLang:function(t,e){return t("switchLang",e)},initMinis:function(t,e){return t("initMinis",e)}})),{},{isExistMinisData:function(){return a.a.size(this.themesList)&&a.a.size(this.minisList)&&a.a.size(this.translateList)},getMinisOptions:function(){var t=this,e="https://adequm.github.io/minis";return new Promise(function(){var i=Object(c["a"])(regeneratorRuntime.mark((function i(n){var s,o,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,fetch("".concat(e,"/translate.json")).then((function(t){return t.json()}));case 3:return s=i.sent,i.next=6,fetch("".concat(e,"/minisList.json")).then((function(t){return t.json()}));case 6:return o=i.sent,i.next=9,fetch("".concat(e,"/themesList.json")).then((function(t){return t.json()}));case 9:r=i.sent,Object.entries(r.default||[]).forEach((function(t){var e=Object(u["a"])(t,2),i=e[0],n=e[1];document.body.style.setProperty("--".concat(i),n)})),n({translateList:s,minisList:o,themesList:r}),i.next=17;break;case 14:i.prev=14,i.t0=i["catch"](0),setTimeout(Object(c["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.isExistMinisData()&&(t.isPageLoad=!0),e.next=3,t.getMinisOptions();case 3:i=e.sent,n(i);case 5:case"end":return e.stop()}}),e)}))),2e3);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})));return function(t){return i.apply(this,arguments)}}())}}),created:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getMinisOptions();case 2:i=e.sent,t.initMinis(i),t.isPageLoad=!0;case 5:case"end":return e.stop()}}),e)})))()}},h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{class:{rotate:t.rotate},attrs:{width:t.size||t.width,height:t.size||t.height,fill:"none",stroke:t.color,"stroke-width":t.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round"},on:{click:function(e){return t.$emit("click",e)}}},[i("use",{attrs:{href:"./feather-sprite.svg#"+t.type}})])},m=[],f=(i("a9e3"),{name:"Icon",props:{type:String,size:Number,width:{type:Number,default:24},height:{type:Number,default:24},strokeWidth:{type:Number,default:2},rotate:{type:Boolean,default:!1},color:{type:String,default:"currentColor"}}}),v=f,y=(i("7f4a"),i("2877")),g=Object(y["a"])(v,h,m,!1,null,"22aa6cc3",null),x=g.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings",class:{isClosedSettings:t.value}},[i("Icon",{attrs:{type:"settings"},on:{click:function(e){return e.preventDefault(),t.$emit("input",!t.value)}}}),i("Icon",{attrs:{type:t.themeIcon},on:{click:function(e){return e.preventDefault(),t.$emit("switchTheme","main")}}}),i("Icon",{attrs:{type:"heart"},on:{click:function(e){return e.preventDefault(),t.$emit("switchTheme","special")}}}),i("Icon",{attrs:{type:"globe"},on:{click:function(e){return e.preventDefault(),t.$emit("switchLang")}}})],1)},b=[],S={name:"SettingsDesktop",components:{Icon:x},props:{themeIcon:String,value:Boolean}},I=S,k=(i("7952"),Object(y["a"])(I,w,b,!1,null,"389961c4",null)),C=k.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"settings",class:{isClosedSettings:t.value}},[i("Icon",{attrs:{type:t.themeIcon},on:{click:function(e){return e.preventDefault(),t.$emit("switchTheme","main")}}}),i("Icon",{attrs:{type:"heart"},on:{click:function(e){return e.preventDefault(),t.$emit("switchTheme","special")}}}),i("Icon",{attrs:{type:"globe"},on:{click:function(e){return e.preventDefault(),t.$emit("switchLang")}}})],1)},L=[],E={name:"SettingsMobile",components:{Icon:x},props:{themeIcon:String,value:Boolean}},$=E,M=(i("4ca3"),Object(y["a"])($,H,L,!1,null,"3e5ecbd4",null)),R=M.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.value?i("div",{staticClass:"modal"},[i("div",{staticClass:"modal__background",on:{click:function(e){return t.$emit("input",null)}}}),i("div",{staticClass:"modal__content"},[t._t("default")],2)]):t._e()},T=[],z={name:"AppModal",props:{value:String}},D=z,O=(i("a5bb"),Object(y["a"])(D,P,T,!1,null,"787e67e2",null)),j=O.exports,W=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"minis__content",style:{minHeight:t.appHeight+"px",gridTemplateRows:t.gridTemplateRows}},[i("Navigation",{attrs:{isDesktop:t.isDesktop,isModeEditor:t.isModeEditor,isModeCompare:t.isModeCompare,isHistoryExist:!!t.lodash.size(t.savedHistory),isEditorDataExist:!!t.questions.length&&t.priorities.length>=2,compareQuestionIndex:t.compareQuestionIndex,compareMaxQuestionsIndex:t.questions.length},on:{removeFromHistory:t.removeFromHistoryHandler,switchModeCompare:function(e){t.isModeCompare=!t.isModeCompare},switchModeEditor:function(e){t.isModeEditor=!t.isModeEditor},openModal:function(e){return t.$emit("openModal",e)}}}),i("div",{staticClass:"minis__display"},[t.isModeCompare?i("LayoutCompare",{attrs:{horizontal:t.isDesktop&&t.appWidth>=530,appWidth:t.appWidth,bodyHeight:t.bodyHeight,questions:t.questions,priorities:t.priorities},on:{nextStep:function(e){t.compareQuestionIndex++},"finish-comparison":t.finishComparison}}):[t.isModeEditor?i("LayoutEditor",{attrs:{appWidth:t.appWidth,bodyHeight:t.bodyHeight,questions:t.questions,priorities:t.priorities,valueQuestion:t.valueQuestion,valuePriority:t.valuePriority,slideIndex:t.slideIndexEditor},on:{changeSlide:function(e){t.slideIndexEditor=e},updateValueQuestion:function(e){t.valueQuestion=e},updateValuePriority:function(e){t.valuePriority=e},addPriority:t.addPriority,addQuestion:t.addQuestion,removeQuestion:t.removeQuestion,removePriority:t.removePriority,updateInputFocus:function(e){return t.$emit("updateInputFocus",e)}}}):t._e(),t.isModeEditor?t._e():i("LayoutHistory",{ref:"layoutHistory",attrs:{appWidth:t.appWidth,bodyHeight:t.bodyHeight,savedHistory:t.savedHistory},on:{changeSlide:function(e){t.slideIndexHistory=e}}})]],2)],1)},q=[],Q=(i("99af"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout swiper-horizontal",attrs:{id:"layout-editor"}},[i("AppTextarea",{ref:"textarea",staticStyle:{"margin-bottom":"10px"},attrs:{resize:t.appWidth,value:t.slideIndex?t.valuePriority:t.valueQuestion,placeholder:t.slideIndex?"Ваш приоритет":"Уточняющий вопрос"},on:{input:t.inputTextarea,submit:t.submitTextarea,updateInputFocus:function(e){return t.$emit("updateInputFocus",e)}}}),i("div",{staticClass:"layout__display",class:{isEnd:t.isEnd,isBeginning:t.isBeginning}},[i("div",{staticClass:"layout__display_content"},[i("Swiper",{ref:"swiper",on:{activeIndexChange:function(e){return t.$emit("changeSlide",e.realIndex)}}},[i("SwiperSlide",[i("div",{staticClass:"slide__container",style:{height:t.slideHeight+"px"}},[t.questions.length?i("DisplayQuestions",{attrs:{questions:t.questions},on:{remove:function(e){return t.$emit("removeQuestion",e)},edit:function(e){return t.edit("question",e)}}}):i("DisplayEmpty",{attrs:{text:"Список уточняющих вопросов",icon:"clipboard",button:"Добавить стандартные вопросы"},on:{click:t.addDefaultQuestion}})],1)]),i("SwiperSlide",[i("div",{staticClass:"slide__container",style:{height:t.slideHeight+"px"}},[t.priorities.length?i("DisplayPriorities",{attrs:{priorities:t.priorities},on:{remove:function(e){return t.$emit("removePriority",e)},edit:function(e){return t.edit("priority",e)}}}):i("DisplayEmpty",{attrs:{text:"Список сравниваемых приоритетов",icon:"star"}})],1)])],1)],1),i("SlideButtons",{attrs:{limit:t.slideList.length,isBeginning:t.isBeginning,isEnd:t.isEnd,value:t.slideIndex},on:{input:function(e){return t.$emit("changeSlide",e)}}})],1)],1)}),N=[],A=i("d7cf"),B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"priorities__container-scroll"},t._l(t.priorities,(function(e,n){return i("div",{key:e+"_"+n,staticClass:"priority__item"},[i("span",{domProps:{textContent:t._s(e)}}),i("div",{staticStyle:{float:"right"}},[i("Icon",{attrs:{type:"edit",strokeWidth:3},on:{click:function(e){return t.$emit("edit",n)}}}),i("Icon",{attrs:{type:"trash",strokeWidth:3},on:{click:function(e){return t.$emit("remove",n)}}})],1)])})),0)},F=[],G={name:"DisplayPriorities",components:{Icon:x},props:{priorities:Array}},X=G,V=(i("571e"),Object(y["a"])(X,B,F,!1,null,"1d93af46",null)),K=V.exports,J=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"questions__container-scroll"},t._l(t.questions,(function(e,n){return i("div",{key:e+"_"+n,staticClass:"question__item"},[i("span",{domProps:{textContent:t._s(e)}}),i("div",{staticStyle:{float:"right"}},[i("Icon",{attrs:{type:"edit",strokeWidth:3},on:{click:function(e){return t.$emit("edit",n)}}}),i("Icon",{attrs:{type:"trash",strokeWidth:3},on:{click:function(e){return t.$emit("remove",n)}}})],1)])})),0)},Y=[],U={name:"DisplayQuestions",components:{Icon:x},props:{questions:Array}},Z=U,tt=(i("7ad3"),Object(y["a"])(Z,J,Y,!1,null,"d231efe0",null)),et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"empty__container"},[i("Icon",{attrs:{type:t.icon,size:96,strokeWidth:1}}),i("span",{domProps:{textContent:t._s(t.text)}}),t.button?i("button",{domProps:{textContent:t._s(t.button)},on:{click:function(e){return t.$emit("click")}}}):t._e()],1)},nt=[],st={name:"DisplayEmpty",components:{Icon:x},props:{text:String,icon:String,button:String}},ot=st,rt=(i("1276"),Object(y["a"])(ot,it,nt,!1,null,"0124f440",null)),at=rt.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"slide-buttons__container"},[i("button",{staticClass:"slide-button",attrs:{disabled:t.isBeginning},on:{click:function(e){return t.setSlide(-1)}}},[i("Icon",{attrs:{type:"chevrons-left"}})],1),i("button",{staticClass:"slide-button",attrs:{disabled:t.isEnd},on:{click:function(e){return t.setSlide(1)}}},[i("Icon",{attrs:{type:"chevrons-right"}})],1)])},lt=[],ut={name:"SlideButtons",components:{Icon:x},props:{value:Number,limit:Number,isEnd:Boolean,isBeginning:Boolean},methods:{setSlide:function(t){var e=a.a.clamp(this.value+t,0,this.limit-1);this.$emit("input",e)}}},dt=ut,pt=(i("dce6"),Object(y["a"])(dt,ct,lt,!1,null,"3ef6ad36",null)),ht=pt.exports,mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"textarea",style:{height:t.textareaHeight}},[i("form",{style:{height:t.textareaHeight},attrs:{defaultfocus:"textarea"},on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[i("textarea",{ref:"textarea",attrs:{id:"textarea",rows:t.textareaRows,placeholder:t.placeholder,maxlength:"80"},domProps:{value:t.value},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.textareaKeyDownEnter.apply(null,arguments)},input:function(e){return t.$emit("input",e.target.value)},focus:function(e){return t.$emit("updateInputFocus",!0)},blur:function(e){return t.$emit("updateInputFocus",!1)}}}),t._v(" "),i("button",{attrs:{type:"submit"}},[i("Icon",{attrs:{type:"plus"}})],1)])])},ft=[],vt=(i("fb6a"),i("ac1f"),i("5319"),i("498a"),{name:"AppTextarea",components:{Icon:x},props:{placeholder:String,value:String,resize:Number},data:function(){return{textareaRows:1}},watch:{value:"setMaxTextareaRows",resize:"setMaxTextareaRows"},computed:{textareaHeight:function(){var t="".concat(this.textareaRows,"em"),e="".concat(.2*this.textareaRows,"em");return"calc(".concat(t," + ").concat(e," + 30px)")}},methods:{setMaxTextareaRows:function(){var t=this;this.textareaRows=1,this.$nextTick((function(){var e=t.$refs.textarea.scrollHeight,i=Math.ceil((e-28)/19);i>5&&t.$emit("input",t.value.slice(0,-1)),t.textareaRows=Math.max(1,Math.min(5,i))}))},textareaKeyDownEnter:function(t){t.shiftKey||(t.preventDefault(),this.submit())},focus:function(){this.$refs.textarea.focus()},submit:function(){this.value.replace(/\n/g,"")&&(this.$emit("submit",this.value.trim()),this.$emit("input",""))}}}),yt=vt,gt=(i("732c"),Object(y["a"])(yt,mt,ft,!1,null,"e76152e4",null)),xt=gt.exports,wt={name:"LayoutEditor",components:{SlideButtons:ht,AppTextarea:xt,DisplayPriorities:K,DisplayQuestions:et,DisplayEmpty:at,Swiper:A["Swiper"],SwiperSlide:A["SwiperSlide"]},props:{isShow:Boolean,appWidth:Number,bodyHeight:Number,questions:Array,priorities:Array,valueQuestion:String,valuePriority:String,slideIndex:Number},data:function(){return{swiperRef:null,slideHeight:0}},watch:{appWidth:["setSlideWidth","setSlideHeight"],textareaHeight:["setSlideWidth","setSlideHeight"],slideIndex:function(t){this.swiperRef.slideTo(t),this.setSlideWidth()},bodyHeight:{immediate:!0,handler:"setSlideHeight"}},computed:{isEnd:function(){var t=this.slideIndex===this.slideList.length-1;return!!this.swiperRef&&this.swiperRef.isEnd||t},isBeginning:function(){var t=0===this.slideIndex;return!!this.swiperRef&&this.swiperRef.isBeginning||t},slideList:function(){var t;return(null===(t=this.swiperRef)||void 0===t?void 0:t.slides)||[]}},methods:{setSlideHeight:function(){var t=this;this.$nextTick((function(){var e,i,n;t.slideHeight=null===(e=t.$refs)||void 0===e||null===(i=e.swiper)||void 0===i||null===(n=i.$el)||void 0===n?void 0:n.offsetHeight}))},setSlideWidth:function(){var t=this,e=this.appWidth-40,i="translate3d(-".concat(this.slideIndex*e,"px, 0px, 0px)"),n=document.querySelector("#layout-editor .swiper-wrapper");_.invoke(null===n||void 0===n?void 0:n.style,"setProperty","max-width","".concat(e,"px")),_.invoke(null===n||void 0===n?void 0:n.style,"setProperty","transform",i);var s=document.querySelectorAll("#layout-editor .swiper-slide");[].forEach.call(s,(function(i,n){i.style.setProperty("width","".concat(e,"px")),t.swiperRef.slidesGrid[n]=n*e,t.swiperRef.snapGrid[n]=n*e,t.swiperRef.slidesSizesGrid[n]=e}))},edit:function(t,e){"priority"==t?(this.$emit("updateValuePriority",this.priorities[e]),this.$emit("removePriority",e)):(this.$emit("updateValueQuestion",this.questions[e]),this.$emit("removeQuestion",e)),this.$refs.textarea.focus()},inputTextarea:function(t){this.slideIndex?this.$emit("updateValuePriority",t):this.$emit("updateValueQuestion",t)},submitTextarea:function(){this.slideIndex?this.$emit("addPriority",this.valuePriority):this.$emit("addQuestion",this.valueQuestion)},addDefaultQuestion:function(){var t=this;["Что важнее прямо сейчас?","Чего быстрее добиться?","Что больше хочется?"].forEach((function(e){return t.$emit("addQuestion",e)}))}},mounted:function(){this.swiperRef=this.$refs.swiper.swiperRef,this.swiperRef.slideTo(this.slideIndex,0),this.$nextTick(this.setSlideWidth)}},bt=wt,St=(i("888e"),Object(y["a"])(bt,Q,N,!1,null,"0182dc04",null)),_t=St.exports,It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout",class:"swiper-"+t.direction,attrs:{id:"layout-compare"}},[i("div",{staticClass:"compare__question",domProps:{textContent:t._s(t.questionTitle)}}),i("div",{staticClass:"compare__display"},[i("Swiper",{ref:"swiper",attrs:{direction:t.direction},on:{activeIndexChange:function(e){t.slideIndex=e.realIndex}}},[i("SwiperSlide",[i("DisplayCompare",{ref:"displayCompare",attrs:{answers:[t.answerLeft,t.answerRight],horizontal:t.horizontal},on:{select:function(e){e?t.selectAnswerRight():t.selectAnswerLeft()}}})],1)],1)],1)])},kt=[],Ct=(i("d81d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"container",staticClass:"compare__container"},[i("div",{staticClass:"compare__answers_wrapper",style:{flexDirection:t.horizontal?"row":"column"}},t._l(t.answers,(function(e,n){return i("div",{key:n,ref:"answers",refInFor:!0,staticClass:"compare__answer",class:{horizontal:t.horizontal},on:{click:function(i){e&&t.canChange&&t.changeAnswer(n)}}},[e?[t.canChange||t.changedAnswer===n?i("span",{domProps:{textContent:t._s(e)}}):t._e()]:i("Icon",{staticStyle:{opacity:".5"},attrs:{type:"activity",size:60,strokeWidth:1}})],2)})),0)])}),Ht=[],Lt={name:"DisplayCompare",components:{Icon:x},props:{answers:Array,horizontal:Boolean},data:function(){return{canChange:!0,changedAnswer:null}},methods:{changeAnswer:function(t){var e=this;return this.changedAnswer=t,new Promise((function(i){e.canChange=!1;var n=e.$refs,s=n.container,o=n.answers,r=(s.offsetWidth,e.horizontal?"width":"height");o[+!t].style.setProperty("transition","".concat(r," .5s")),o[+!t].style.setProperty(r,"50px"),o[t].style.setProperty("background-color","var(--special-color)"),o[t].style.setProperty("opacity",".5"),o[t].style.setProperty("color","var(--text-color)"),setTimeout((function(){o[+!t].style.removeProperty("transition"),o[+!t].style.removeProperty(r)}),800),setTimeout((function(){o[t].style.removeProperty("opacity"),o[t].style.removeProperty("background-color"),o[t].style.removeProperty("color"),e.$emit("select",t),e.canChange=!0,i()}),1e3)}))}}},Et=Lt,$t=(i("c2f1"),Object(y["a"])(Et,Ct,Ht,!1,null,null,null)),Mt=$t.exports,Rt={name:"LayoutCompare",components:{Swiper:A["Swiper"],SwiperSlide:A["SwiperSlide"],DisplayCompare:Mt},props:{horizontal:Boolean,appWidth:Number,bodyHeight:Number,questions:Array,priorities:Array},data:function(){return{swiperRef:null,slideIndex:0,slideContrainerHeight:0,slideHeight:null,prioritiesArray:[],prioritiesResult:[],sortedIndex:0,sortedIndexTry:0,optionMaxIndex:0,questionIndex:0}},watch:{slideHeight:"setSlidesSize",questionTitle:["setSlideHeight","setSlidesSize"],horizontal:["setSlideHeight","setSlidesSize"],appWidth:["setSlideHeight","setSlidesSize"],slideIndex:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(1!==e){t.next=2;break}return t.abrupt("return");case 2:return this.swiperRef.slideTo(0,0),i=this.$refs.displayCompare,t.next=6,i.changeAnswer(+!!e);case 6:this.$emit("nextStep",e);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),bodyHeight:{immediate:!0,handler:"setSlideHeight"}},computed:{direction:function(t){return t.horizontal?"horizontal":"vertical"},slideSize:function(t){return t.horizontal?t.appWidth-60:t.slideHeight},slideTransform:function(){return this.horizontal?"translate3d(-".concat(this.slideIndex*this.slideSize,"px, 0px, 0px)"):"translate3d(0px, -".concat(this.slideIndex*this.slideSize,"px, 0px)")},answerLeft:function(t){return a.a.get(t.prioritiesResult[t.questionIndex],t.sortedIndex)},answerRight:function(t){return a.a.get(t.prioritiesResult[t.questionIndex],t.sortedIndex+1)},questionTitle:function(t){return t.questions[t.questionIndex]},lastQuestionIndex:function(t){return t.questions.length-1}},methods:{setSlideHeight:function(){var t=this;this.$nextTick((function(){t.slideHeight=t.$refs.swiper.$el.offsetHeight}))},setSlidesSize:function(){var t=this;this.swiperRef.slideTo(0,0);var e=this.appWidth-60,i=this.slideHeight,n=document.querySelector("#layout-compare .swiper-wrapper");a.a.invoke(null===n||void 0===n?void 0:n.style,"setProperty","max-width","".concat(e,"px")),a.a.invoke(null===n||void 0===n?void 0:n.style,"setProperty","max-height","".concat(i,"px")),a.a.invoke(null===n||void 0===n?void 0:n.style,"setProperty","transform",this.slideTransform);var s=document.querySelectorAll("#layout-compare .swiper-slide");[].forEach.call(s,(function(n,s){n.style.setProperty("width","".concat(e,"px")),n.style.setProperty("height","".concat(i,"px")),t.swiperRef.slidesGrid[s]=s*t.slideSize,t.swiperRef.snapGrid[s]=s*t.slideSize,t.swiperRef.slidesSizesGrid[s]=t.slideSize}))},"startСomparison":function(){var t=this;a.a.times(this.questions.length,(function(e){var i=a.a.cloneDeep(t.priorities);t.prioritiesResult.push(a.a.shuffle(i))})),this.optionMaxIndex=this.priorities.length-1},selectAnswerLeft:function(){this.sortedIndex=++this.sortedIndexTry,this.sortedIndexTry>=this.optionMaxIndex&&this.finishСomparison()},selectAnswerRight:function(){var t=this.prioritiesResult[this.questionIndex],e=this.sortedIndex,i=[t[e],t[e+1]];if(t[e+1]=i[0],t[e]=i[1],e-1>=0)return this.$set(this,"sortedIndex",a.a.clamp(e-1,0,this.optionMaxIndex));this.selectAnswerLeft()},"finishСomparison":function(){var t=this;if(this.questionIndex++,this.sortedIndex=0,this.sortedIndexTry=0,this.$emit("nextStep"),!(this.questionIndex<=this.lastQuestionIndex)){var e=a.a.map(this.prioritiesResult,(function(e,i){var n=t.questions[i];return{question:n,answers:e}})),i=Date.now();this.$emit("finish-comparison",{date:i,chunks:e})}}},mounted:function(){this.startСomparison(),this.swiperRef=this.$refs.swiper.swiperRef,this.$nextTick(this.setSlidesSize)}},Pt=Rt,Tt=(i("26d8"),Object(y["a"])(Pt,It,kt,!1,null,"436d6d0c",null)),zt=Tt.exports,Dt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"layout swiper-horizontal",class:{isEnd:t.isEnd,isBeginning:t.isBeginning},attrs:{id:"layout-history"}},[i("div",{staticClass:"history__display"},[t.slideLength?i("Swiper",{ref:"swiper",on:{activeIndexChange:function(e){t.slideIndex=e.realIndex}}},t._l(t.savedHistory,(function(e,n){return i("SwiperSlide",{key:n},[i("div",{staticClass:"slide__container",style:{height:t.slideHeight+"px"}},[i("div",{staticClass:"history__date",domProps:{textContent:t._s(t.getFormatDate(e.date))}}),i("DisplayHistory",{attrs:{historyOfDate:e.chunks}})],1)])})),1):i("DisplayEmpty",{attrs:{text:"История ваших сравнений",icon:"inbox"}})],1),i("SlideButtons",{attrs:{limit:t.slideList.length,isBeginning:t.isBeginning,isEnd:t.isEnd},model:{value:t.slideIndex,callback:function(e){t.slideIndex=e},expression:"slideIndex"}})],1)},Ot=[],jt=(i("a434"),i("4d90"),i("25f0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"history__container-scroll"},t._l(t.historyOfDate,(function(e,n){return i("div",{key:n,staticClass:"history__chunk"},[i("div",{staticClass:"history__chunk_item history__chunk_item-question",domProps:{textContent:t._s(e.question)}}),t._l(e.answers,(function(e,n){return i("div",{key:n,staticClass:"history__chunk_item",domProps:{textContent:t._s(e)}})}))],2)})),0)}),Wt=[],qt={name:"DisplayHistory",components:{Icon:x},props:{historyOfDate:Array}},Qt=qt,Nt=(i("0a92"),Object(y["a"])(Qt,jt,Wt,!1,null,"782e9a35",null)),At=Nt.exports,Bt={name:"LayoutHistory",components:{DisplayHistory:At,Swiper:A["Swiper"],SwiperSlide:A["SwiperSlide"],SlideButtons:ht,DisplayEmpty:at},props:{appWidth:Number,bodyHeight:Number,savedHistory:Array},data:function(){return{lodash:a.a,swiperRef:null,slideIndex:0,slideHeight:0,slideLength:!0}},watch:{appWidth:["setSlideHeight","setSlidesSize"],slideIndex:function(t){this.$emit("changeSlide",t),this.swiperRef.slideTo(t),this.setSlidesSize()},bodyHeight:{immediate:!0,handler:"setSlideHeight"},savedHistory:{deep:!0,handler:function(t){this.slideIndex=a.a.clamp(this.slideIndex,0,t.length-1)}}},computed:{isEnd:function(){var t,e=!this.savedHistory.length,i=this.slideIndex===this.slideList.length-1;return!(null===(t=this.swiperRef)||void 0===t||!t.isEnd)||i||e},isBeginning:function(){var t,e=!this.savedHistory.length,i=0===this.slideIndex;return!(null===(t=this.swiperRef)||void 0===t||!t.isBeginning)||i||e},slideList:function(){var t;return(null===(t=this.swiperRef)||void 0===t?void 0:t.slides)||[]}},methods:{setSlideHeight:function(){var t=this;this.$nextTick((function(){var e,i,n;t.slideHeight=null===(e=t.$refs)||void 0===e||null===(i=e.swiper)||void 0===i||null===(n=i.$el)||void 0===n?void 0:n.offsetHeight}))},setSlidesSize:function(){var t=this,e=this.appWidth-40,i="translate3d(-".concat(this.slideIndex*e,"px, 0px, 0px)"),n=document.querySelector("#layout-history .swiper-wrapper");a.a.invoke(null===n||void 0===n?void 0:n.style,"setProperty","max-width","".concat(e,"px")),a.a.invoke(null===n||void 0===n?void 0:n.style,"setProperty","transform",i);var s=document.querySelectorAll("#layout-history .swiper-slide");[].forEach.call(s,(function(i,n){i.style.setProperty("width","".concat(e,"px")),t.swiperRef.slidesGrid[n]=n*e,t.swiperRef.snapGrid[n]=n*e,t.swiperRef.slidesSizesGrid[n]=e}))},deleteSlide:function(t){var e=this;this.$nextTick((function(){e.swiperRef.slides.splice(t,1),e.swiperRef.slidesGrid.splice(t,1),e.swiperRef.snapGrid.splice(t,1),e.swiperRef.slidesSizesGrid.splice(t,1),e.slideLength=e.swiperRef.slides.length}))},getFormatDate:function(t){var e=new Date(t),i=e.getDate().toString().padStart(2,0),n=(e.getMonth()+1).toString().padStart(2,0),s=e.getFullYear(),o=e.getHours().toString().padStart(2,0),r=e.getMinutes().toString().padStart(2,0);return"".concat(i,".").concat(n,".").concat(s," | ").concat(o,":").concat(r)}},mounted:function(){var t,e;this.swiperRef=this.$refs.swiper.swiperRef,this.slideLength=(null===(t=this.swiperRef)||void 0===t||null===(e=t.slides)||void 0===e?void 0:e.length)||0,this.swiperRef.slideTo(0,0),this.$nextTick(this.setSlidesSize)}},Ft=Bt,Gt=(i("3249"),Object(y["a"])(Ft,Dt,Ot,!1,null,"263774eb",null)),Xt=Gt.exports,Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"navigation",style:{gridTemplateColumns:t.isDesktop?"2fr 1fr":"2fr 50px 1fr"}},[t.isModeCompare?i("button",{staticClass:"navigation__item nohover",staticStyle:{cursor:"default"}},[i("span",{domProps:{textContent:t._s("Шаг: "+t.compareQuestionIndex+" из "+t.compareMaxQuestionsIndex)}}),i("div",{staticClass:"compare_loader",style:{width:t.compareLoaderWidth}})]):i("button",{staticClass:"navigation__item",domProps:{textContent:t._s(t.isModeEditor?"История":"Редактор")},on:{click:function(e){return t.$emit("switchModeEditor")}}}),t.isDesktop?t._e():i("button",{staticClass:"navigation__item nofocus nohover",on:{click:function(e){return t.$emit("openModal","settings")}}},[i("Icon",{attrs:{type:"settings"}})],1),t.isModeEditor?i("button",{staticClass:"navigation__item navigation__item-special",attrs:{disabled:!t.isEditorDataExist},on:{click:function(e){t.isEditorDataExist&&t.$emit("switchModeCompare")}}},[i("Icon",{attrs:{type:t.isModeCompare?"x":"send"}})],1):i("button",{staticClass:"navigation__item",staticStyle:{color:"var(--special-color)"},attrs:{disabled:!t.isHistoryExist},on:{click:function(e){t.isHistoryExist&&t.$emit("removeFromHistory")}}},[i("Icon",{attrs:{type:"trash"}})],1)])},Kt=[],Jt={name:"Navigation",components:{Icon:x},props:{isDesktop:Boolean,isModeCompare:Boolean,isModeEditor:Boolean,isHistoryExist:Boolean,isEditorDataExist:Boolean,compareQuestionIndex:Number,compareMaxQuestionsIndex:Number},data:function(){return{console:console}},computed:{compareLoaderWidth:function(t){return"".concat(t.compareQuestionIndex/t.compareMaxQuestionsIndex*100,"%")}}},Yt=Jt,Ut=(i("fb68"),Object(y["a"])(Yt,Vt,Kt,!1,null,null,null)),Zt=Ut.exports,te={name:"LayoutContent",components:{LayoutEditor:_t,LayoutCompare:zt,LayoutHistory:Xt,Navigation:Zt},props:{appWidth:Number,appHeight:Number,bodyHeight:Number,isDesktop:Boolean},data:function(){return{lodash:a.a,isModeEditor:!0,isModeCompare:!1,compareQuestionIndex:1,slideIndexHistory:0,slideIndexEditor:1,valueQuestion:"",valuePriority:""}},watch:{isModeCompare:function(){this.compareQuestionIndex=1}},computed:Object(l["a"])(Object(l["a"])({},Object(d["d"])(["savedHistory","questions","priorities"])),{},{gridTemplateRows:function(){var t=Math.min(.15*this.appHeight,85),e=this.appHeight-t;return"".concat(t,"px ").concat(e,"px")}}),methods:Object(l["a"])(Object(l["a"])({},Object(d["c"])(["addToHistory","removeFromHistory","addQuestion","removeQuestion","addPriority","removePriority"])),{},{removeFromHistoryHandler:function(){this.removeFromHistory(this.slideIndexHistory),this.$refs.layoutHistory.deleteSlide(this.slideIndexHistory)},finishComparison:function(t){this.addToHistory(t),this.isModeEditor=!1,this.isModeCompare=!1},keydown:function(t){var e=t.key;t.shiftKey;switch(e){case"Escape":this.$emit("switchSettings");break}}}),beforeMount:function(){document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}},ee=te,ie=(i("e133"),Object(y["a"])(ee,W,q,!1,null,null,null)),ne=ie.exports,se={components:{LayoutContent:ne,AppModal:j,SettingsDesktop:C,SettingsMobile:R,Icon:x},mixins:[p],data:function(){return{containerWidth:300,innerHeight:null,innerWidth:null,startResizeX:null,startResizeWidth:null,resizeHash:null,isClosedSettings:!0,openedModalName:null,onInputFocus:!1}},watch:{isDesktop:function(t){t&&"settings"==this.openedModalName&&(this.openedModalName=null,this.isClosedSettings=!1)}},computed:{isDesktop:function(t){return t.innerWidth>=768},appWidth:function(t){return t.isDesktop?t.containerWidth:t.innerWidth},appHeight:function(t){return t.isDesktop?560:t.innerHeight}},methods:{setContainerWidth:function(t){var e=this,i=t.pageX;requestAnimationFrame((function(){if(!a.a.isNull(e.startResizeX)&&!a.a.isNull(e.startResizeWidth)){var t=i-e.startResizeX+e.startResizeWidth;e.containerWidth=a.a.clamp(t,300,600)}}))},startResize:function(t){this.startResizeX=t.pageX,this.startResizeWidth=this.containerWidth,document.addEventListener("mousemove",this.setContainerWidth),document.addEventListener("mouseup",this.stopResize),window.addEventListener("mouseleave",this.stopResize)},stopResize:function(){this.startResizeX=null,this.startResizeWidth=null,document.removeEventListener("mousemove",this.setContainerWidth),document.removeEventListener("mouseup",this.stopResize),window.removeEventListener("mouseleave",this.stopResize)}},beforeMount:function(){var t=this,e=function(){t.innerWidth=document.body.offsetWidth,t.onInputFocus||(t.innerHeight=innerHeight)};e(),window.addEventListener("resize",e),setInterval(e,1e3)}},oe=se,re=(i("5c0b"),Object(y["a"])(oe,s,o,!1,null,null,null)),ae=re.exports,ce=i("9483");Object(ce["a"])("".concat("/priorities/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});i("12767");var le=i("0e44"),ue=i("0759"),de=i.n(ue),pe=i("8468"),he=(i("b64b"),{state:function(){return{minisLang:"ru",minisThemeMain:null,minisThemeSpecial:null,themesList:{},translateList:{},minisList:{}}}});he.getters={translateList:function(t){var e,i=t.translateList,n=t.minisLang;return(null===i||void 0===i||null===(e=i[n])||void 0===e?void 0:e.priorities)||{}},translate:function(t,e){Object(pe["a"])(t);var i=e.translateList;return function(t){return(null===i||void 0===i?void 0:i[t])||"Err"}},themeMain:function(t){var e,i,n=t.themesList,s=t.minisThemeMain,o=null===n||void 0===n||null===(e=n.main)||void 0===e?void 0:e[s];return o?n.main[s]:null===n||void 0===n||null===(i=n.main)||void 0===i?void 0:i.dark},themeSpecialName:function(t){var e,i,n,s=t.themesList,o=t.minisThemeSpecial,r=null===s||void 0===s||null===(e=s.special)||void 0===e||null===(i=e.colors)||void 0===i?void 0:i[o];return r?o:null===s||void 0===s||null===(n=s.special)||void 0===n?void 0:n.default},themeSpecial:function(t,e){var i,n,s=t.themesList,o=e.themeSpecialName;return null===s||void 0===s||null===(i=s.special)||void 0===i||null===(n=i.colors)||void 0===n?void 0:n[o]}},he.mutations={switchTheme:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",i="main"==e?"minisThemeMain":"minisThemeSpecial",s="main"==e?t.themesList.main:t.themesList.special.colors,o=Object.keys(s),r=o.indexOf(t[i]),a=(r+1)%o.length;n["default"].set(t,i,o[a])},switchLang:function(t){var e=Object.keys(t.translateList),i=e.indexOf(t.minisLang),s=(i+1)%e.length;n["default"].set(t,"minisLang",e[s])},initMinis:function(t,e){var i=e.translateList,s=e.minisList,o=e.themesList;n["default"].set(t,"minisList",s),n["default"].set(t,"translateList",i),n["default"].set(t,"themesList",o)}};var me=he,fe={};n["default"].use(d["a"]),fe.state=function(){return{savedHistory:[],questions:[],priorities:[]}},fe.mutations={addToHistory:function(t,e){var i=t.savedHistory;return i.unshift(e)},removeFromHistory:function(t,e){var i=t.savedHistory;return i.splice(e,1)},addQuestion:function(t,e){var i=t.questions;return i.push(e)},removeQuestion:function(t,e){var i=t.questions;return i.splice(e,1)},addPriority:function(t,e){var i=t.priorities;return i.push(e)},removePriority:function(t,e){var i=t.priorities;return i.splice(e,1)}};var ve=["minis.minisThemeMain","minis.minisThemeSpecial","minis.minisLang","minis.themesList","minis.translateList","minis.minisList"],ye=["savedHistory","questions","priorities"],ge="minis-".concat(location.pathname.split("/")[1]);fe.modules={minis:me},fe.plugins=[de()({predicate:function(){return[].concat(ve,ye)}}),Object(le["a"])({paths:ve,key:"minis"}),Object(le["a"])({paths:ye,key:ge})];var xe=new d["a"].Store(fe);n["default"].config.productionTip=!1,new n["default"]({store:xe,render:function(t){return t(ae)}}).$mount("#app")},"571e":function(t,e,i){"use strict";i("93c5")},"5c0b":function(t,e,i){"use strict";i("9c0c")},"732c":function(t,e,i){"use strict";i("18e4")},7952:function(t,e,i){"use strict";i("df23")},"7ad3":function(t,e,i){"use strict";i("03ae")},"7f4a":function(t,e,i){"use strict";i("3b32")},"888e":function(t,e,i){"use strict";i("9d56")},"8c79":function(t,e,i){},"93c5":function(t,e,i){},"9c0c":function(t,e,i){},"9d56":function(t,e,i){},a5bb:function(t,e,i){"use strict";i("4894")},bdb9:function(t,e,i){},c2f1:function(t,e,i){"use strict";i("c659")},c659:function(t,e,i){},cf3a:function(t,e,i){},d18e:function(t,e,i){},dce6:function(t,e,i){"use strict";i("1cbc")},df23:function(t,e,i){},e133:function(t,e,i){"use strict";i("eed6")},eed6:function(t,e,i){},fb68:function(t,e,i){"use strict";i("8c79")}});
//# sourceMappingURL=app.e3ccbd31.js.map