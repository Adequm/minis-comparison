(function(t){function e(e){for(var i,a,o=e[0],c=e[1],u=e[2],h=0,d=[];h<o.length;h++)a=o[h],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,o=1;o<n.length;o++){var c=n[o];0!==r[c]&&(i=!1)}i&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},r={app:0},s=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/priorities/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"1c76":function(t,e,n){"use strict";n("21de")},"21de":function(t,e,n){},"499b":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",style:{height:t.innerHeight+"px",maxWidth:t.innerWidth<768?"100vw":t.maxWidth+"px"}},[t.isPageLoad?n("router-view",{attrs:{themeIcon:t.themeMain.icon,minisLang:t.minisLang,maxWidth:t.maxWidth,bodyWidth:t.innerWidth},on:{switchTheme:t.switchTheme,switchLang:t.switchLang,changeMaxWidth:t.changeContainerMaxWidth}}):n("Icon",{staticClass:"loader",attrs:{type:"loader",rotate:""}})],1)},s=[],a=n("1da1"),o=n("5530"),c=n("3835"),u=(n("96cf"),n("07ac"),n("d3b7"),n("159b"),n("4fad"),n("2f62")),l={name:"App",data:function(){return{isPageLoad:!1}},watch:{translateList:{deep:!0,immediate:!0,handler:function(t){Object.values(t).length&&(document.title=this.translate("title"))}},themeMain:{deep:!0,handler:function(t){if(!t)return this.switchTheme("main");Object.entries(t.colors).forEach((function(t){var e=Object(c["a"])(t,2),n=e[0],i=e[1];document.body.style.setProperty("--".concat(n),i)}))}},themeSpecial:{deep:!0,handler:function(t){if(!t)return this.switchTheme("special");document.body.style.setProperty("--special-color",t.normal)}}},computed:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["translate","translateList","themeMain","themeSpecialName","themeSpecial"])),Object(u["d"])({minisTheme:function(t){return t.minis.minisTheme},minisLang:function(t){return t.minis.minisLang}})),methods:Object(o["a"])(Object(o["a"])({},Object(u["c"])({switchTheme:function(t,e){return t("switchTheme",e)},switchLang:function(t,e){return t("switchLang",e)},initMinis:function(t,e){return t("initMinis",e)}})),{},{getMinisOptions:function(){var t=this,e="https://adequm.github.io/minis";return new Promise(function(){var n=Object(a["a"])(regeneratorRuntime.mark((function n(i){var r,s,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(e,"/translate.json")).then((function(t){return t.json()}));case 3:return r=n.sent,n.next=6,fetch("".concat(e,"/minisList.json")).then((function(t){return t.json()}));case 6:return s=n.sent,n.next=9,fetch("".concat(e,"/themesList.json")).then((function(t){return t.json()}));case 9:o=n.sent,Object.entries(o.default||[]).forEach((function(t){var e=Object(c["a"])(t,2),n=e[0],i=e[1];document.body.style.setProperty("--".concat(n),i)})),i({translate:r,minisList:s,themesList:o}),n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](0),setTimeout(Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getMinisOptions();case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}}),e)}))),2e3);case 17:case"end":return n.stop()}}),n,null,[[0,14]])})));return function(t){return n.apply(this,arguments)}}())}}),created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getMinisOptions();case 2:n=e.sent,t.initMinis(n),t.isPageLoad=!0;case 5:case"end":return e.stop()}}),e)})))()}},h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{class:{rotate:t.rotate},attrs:{width:t.size||t.width,height:t.size||t.height,fill:"none",stroke:t.color,"stroke-width":t.strokeWidth,"stroke-linecap":"round","stroke-linejoin":"round"},on:{click:function(e){return t.$emit("click",e)}}},[n("use",{attrs:{href:"./feather-sprite.svg#"+t.type}})])},d=[],m=(n("a9e3"),{name:"Icon",props:{type:String,size:Number,width:{type:Number,default:24},height:{type:Number,default:24},strokeWidth:{type:Number,default:2},rotate:{type:Boolean,default:!1},color:{type:String,default:"currentColor"}}}),p=m,f=(n("1c76"),n("2877")),v=Object(f["a"])(p,h,d,!1,null,"13f5bd86",null),g=v.exports,b={components:{Icon:g},mixins:[l],data:function(){return{console:console,innerHeight:null,innerWidth:null,maxWidth:300}},methods:{changeContainerMaxWidth:function(t){this.maxWidth=Math.min(600,Math.max(t,300))}},beforeMount:function(){var t=this;this.innerHeight=innerHeight,this.innerWidth=innerWidth,window.addEventListener("resize",(function(e){t.innerHeight=innerHeight,t.innerWidth=innerWidth}))}},y=b,w=(n("5c0b"),Object(f["a"])(y,r,s,!1,null,null,null)),x=w.exports,L=n("9483");Object(L["a"])("".concat("/priorities/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});n("99af"),n("fb6a"),n("ac1f"),n("1276");var k=n("0e44"),j=n("0759"),O=n.n(j),W=n("8468"),_=(n("b64b"),{state:function(){return{minisLang:"ru",minisThemeMain:null,minisThemeSpecial:null,themesList:{},translate:{},minisList:{}}}});_.getters={translateList:function(t){var e,n=t.translate,i=t.minisLang;return(null===n||void 0===n||null===(e=n[i])||void 0===e?void 0:e.priorities)||{}},translate:function(t,e){Object(W["a"])(t);var n=e.translateList;return function(t){return(null===n||void 0===n?void 0:n[t])||"Err"}},themeMain:function(t){var e,n,i=t.themesList,r=t.minisThemeMain,s=null===i||void 0===i||null===(e=i.main)||void 0===e?void 0:e[r];return s?i.main[r]:null===i||void 0===i||null===(n=i.main)||void 0===n?void 0:n.dark},themeSpecialName:function(t){var e,n,i,r=t.themesList,s=t.minisThemeSpecial,a=null===r||void 0===r||null===(e=r.special)||void 0===e||null===(n=e.colors)||void 0===n?void 0:n[s];return a?s:null===r||void 0===r||null===(i=r.special)||void 0===i?void 0:i.default},themeSpecial:function(t,e){var n,i,r=t.themesList,s=e.themeSpecialName;return null===r||void 0===r||null===(n=r.special)||void 0===n||null===(i=n.colors)||void 0===i?void 0:i[s]}},_.mutations={switchTheme:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main",n="main"==e?"minisThemeMain":"minisThemeSpecial",r="main"==e?t.themesList.main:t.themesList.special.colors,s=Object.keys(r),a=s.indexOf(t[n]),o=(a+1)%s.length;i["a"].set(t,n,s[o])},switchLang:function(t){var e=Object.keys(t.translate),n=e.indexOf(t.minisLang),r=(n+1)%e.length;i["a"].set(t,"minisLang",e[r])},initMinis:function(t,e){var n=e.translate,r=e.minisList,s=e.themesList;i["a"].set(t,"minisList",r),i["a"].set(t,"translate",n),i["a"].set(t,"themesList",s)}};var M=_,S={};i["a"].use(u["a"]),S.state=function(){return{history:[]}},S.mutations={addToHistory:function(t,e){var n=t.history.slice(-9).concat([e]);i["a"].set(t,"history",n)},clearHistory:function(t){i["a"].set(t,"history",[])}};var T=["minis.minisThemeMain","minis.minisThemeSpecial","minis.minisLang"],C=["history"],R="minis-".concat(location.pathname.split("/")[1]);S.modules={minis:M},S.plugins=[O()({predicate:function(){return[].concat(T,C)}}),Object(k["a"])({paths:T,key:"minis"}),Object(k["a"])({paths:C,key:R})];var P=new u["a"].Store(S),E=n("8c4f"),z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Priorities",{attrs:{themeIcon:t.themeIcon,minisLang:t.minisLang,maxWidth:t.maxWidth,bodyWidth:t.bodyWidth},on:{switchTheme:function(e){return t.$emit("switchTheme",e)},switchLang:function(e){return t.$emit("switchLang",e)},changeMaxWidth:function(e){return t.$emit("changeMaxWidth",e)}}})},I=[],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("div",{ref:"priorities",staticClass:"priorities"},[n("div",{staticClass:"settings",class:{isClosedSettings:t.isClosedSettings}},[n("Icon",{attrs:{type:"settings"},on:{click:function(e){t.isClosedSettings=!t.isClosedSettings}}}),n("Icon",{attrs:{type:t.themeIcon},on:{click:function(e){return t.$emit("switchTheme","main")}}}),n("Icon",{attrs:{type:"heart"},on:{click:function(e){return t.$emit("switchTheme","special")}}}),n("Icon",{attrs:{type:"globe"},on:{click:function(e){return t.$emit("switchLang")}}})],1),n("div",{staticClass:"priorities__buttons"},[n("div",{staticClass:"priorities__button",domProps:{textContent:t._s("Вопросы")}}),n("div",{staticClass:"priorities__button priorities__button-special",domProps:{textContent:t._s("Сравнить")}})]),n("div",{staticClass:"priorities__list"},[n("div",{staticClass:"content__wrapper",style:{height:t.textareaHeight}},[n("form",{style:{height:t.textareaHeight},attrs:{defaultfocus:"textarea"},on:{submit:function(e){return e.preventDefault(),t.addPriority.apply(null,arguments)}}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"textarea",attrs:{id:"textarea",rows:t.textareaRows,placeholder:"Ваш приоритет"},domProps:{value:t.value},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.textareaKeyDownEnter.apply(null,arguments)},input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),n("button",{attrs:{type:"submit"}},[n("Icon",{attrs:{type:"plus"}})],1)])]),n("div",{staticStyle:{"border-radius":"10px",overflow:"hidden",height:"100%"}},[n("div",{staticClass:"wrapper__priorities"},[n("div",{staticClass:"wrapper__priorities_scroll"},[t.priorities.length?t._l(t.priorities,(function(e,i){return n("div",{key:i,staticClass:"priority"},[n("span",{domProps:{textContent:t._s(e)}}),n("div",{staticStyle:{float:"right"}},[n("Icon",{attrs:{type:"trash",strokeWidth:3},on:{click:function(e){return t.priorities.splice(i,1)}}}),n("Icon",{attrs:{type:"edit",strokeWidth:3},on:{click:function(e){return t.editPririty(i)}}})],1)])})):n("span",{staticStyle:{opacity:".5","grid-column":"1/4","user-select":"none"}},[t._v(" Напиши выше свои цели на месяц/два/три (купить кактус, зашить шторы, приготовить бутерброды с икрой) Ответь честно на вопросы и по итогу сверху окажутся более важные цели, ближе к низу будут менее важные ")])],2)])])]),n("div",{staticClass:"resize_button",on:{mousedown:function(e){return e.preventDefault(),t.startResize.apply(null,arguments)}}})]),n("a",{staticClass:"minis",attrs:{href:"https://adequm.github.io/minis",target:"_blank"}},[t._v("Minis")])])},N=[],H=(n("a434"),n("5319"),{name:"Priorities",components:{Icon:g},props:{themeIcon:String,minisLang:String,maxWidth:Number,bodyWidth:Number},data:function(){return{value:"",priorities:[],textareaRows:1,isClosedSettings:!0,isResize:!1,startX:null}},watch:{value:"setMaxTextareaRows",maxWidth:"setMaxTextareaRows",bodyWidth:"setMaxTextareaRows"},computed:{textareaHeight:function(){var t="".concat(this.textareaRows,"em"),e="".concat(.2*this.textareaRows,"em");return"calc(".concat(t," + ").concat(e," + 20px)")}},methods:{setMaxTextareaRows:function(){var t=this;this.textareaRows=1,this.$nextTick((function(){var e=t.$refs.textarea.scrollHeight,n=Math.ceil((e-18)/19);n>5&&(t.value=t.value.slice(0,-1)),t.textareaRows=Math.min(5,n)}))},editPririty:function(t){this.value=this.priorities[t],this.priorities.splice(t,1),this.$refs.textarea.focus()},setMaxWidth:function(t){var e=this,n=t.pageX;requestAnimationFrame((function(){var t=n-e.startResizeX+e.startResizeWidth;e.$emit("changeMaxWidth",t)}))},startResize:function(t){this.startResizeX=t.pageX,this.startResizeWidth=this.maxWidth,document.addEventListener("mousemove",this.setMaxWidth),document.addEventListener("mouseup",this.stopResize),window.addEventListener("mouseleave",this.stopResize)},stopResize:function(){this.startResizeX=null,this.startResizeWidth=null,document.removeEventListener("mousemove",this.setMaxWidth),document.removeEventListener("mouseup",this.stopResize),window.removeEventListener("mouseleave",this.stopResize)},textareaKeyDownEnter:function(t){t.shiftKey||(t.preventDefault(),this.addPriority())},addPriority:function(t){this.value.replace(/\n/g,"")&&this.priorities.push(this.value),this.value=""},keydown:function(t){var e=t.key;t.shiftKey;switch(e){case"Escape":this.isClosedSettings=!this.isClosedSettings;break}}},beforeMount:function(){document.addEventListener("keydown",this.keydown)},beforeDestroy:function(){document.removeEventListener("keydown",this.keydown)}}),D=H,X=(n("85bd"),Object(f["a"])(D,$,N,!1,null,null,null)),A=X.exports,q={name:"Home",components:{Priorities:A},props:{maxWidth:Number,bodyWidth:Number,minisLang:String,themeIcon:String}},K=q,F=Object(f["a"])(K,z,I,!1,null,null,null),B=F.exports;i["a"].use(E["a"]);var J=[{path:"/",name:"Home",component:B}],G=new E["a"]({mode:"hash",base:"/priorities/",routes:J});i["a"].config.productionTip=!1,new i["a"]({store:P,router:G,render:function(t){return t(x)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"85bd":function(t,e,n){"use strict";n("499b")},"9c0c":function(t,e,n){}});
//# sourceMappingURL=app.7b592dd2.js.map